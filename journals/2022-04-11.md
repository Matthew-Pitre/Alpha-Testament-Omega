- NOW [How ES Module Shims became a Production Import Maps Polyfill](https://guybedford.com/es-module-shims-production-import-maps) #esm
  :LOGBOOK:
  CLOCK: [2022-04-11 Mon 13:29:58]
  :END:
	- Loader Architecture
		- esm shim is more than "module evaluation", but a "**module loader**"
			- dep discovery & resolution
				- importmap
		- initial goal is to solve problem for `<script type="module">`
		- Enabled by two techniques
		- A small & fast module lexer
			- From
			  <pre>const source = 
			  `import { dep } from 'dep';
			  console.log(dep, mapped);`;</pre>
			- to
			- <pre>import { dep } from '/dep-resolved.js';
			  console.log(dep, mapped);</pre>
		-
		- 2. Source customization via Blob URLs
		-
-