- [[App Directory in Next.js 13]]
	- Shika wasm load issue. Also, why it is **loaded in webpack-internal context**?
		- I guess their intent is to ==bundling the RSC codes that runs on the edge server==
		- The issue of Shika load is that when in the node context, it is using `require.resolve` to get the wasm path, but in Nextjs with App Directory, it is using the webpack context, where the implementation of `require.resolve` is different
		  collapsed:: true
			- ![image.png](../assets/image_1666923215992_0.png)
		- This seems to be relevant https://github.com/webpack/webpack/issues/9393
	- Created a PR to workaround with that https://github.com/shikijs/shiki/pull/370. But I guess the issue will also happen in some other cases.
		- I decided to give up for now ...
	- App directory + RSC seems to be a good approach, but I am not sure if it is really worth the efforts